<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.7.32">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>5&nbsp; Blatt 05 – Operating Systems and Networs SoSe 25 Solutions</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
html { -webkit-text-size-adjust: 100%; }
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../site_libs/quarto-search/fuse.min.js"></script>
<script src="../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../">
<link href="../sh06/06.html" rel="next">
<link href="../sh04/04.html" rel="prev">
<script src="../site_libs/quarto-html/quarto.js" type="module"></script>
<script src="../site_libs/quarto-html/tabsets/tabsets.js" type="module"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../site_libs/quarto-html/anchor.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting-37eea08aefeeee20ff55810ff984fec1.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../site_libs/bootstrap/bootstrap-bf132de45b538d253cd2e2da5fec6016.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>

  <script src="https://cdnjs.cloudflare.com/polyfill/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

<script type="text/javascript">
const typesetMath = (el) => {
  if (window.MathJax) {
    // MathJax Typeset
    window.MathJax.typeset([el]);
  } else if (window.katex) {
    // KaTeX Render
    var mathElements = el.getElementsByClassName("math");
    var macros = [];
    for (var i = 0; i < mathElements.length; i++) {
      var texText = mathElements[i].firstChild;
      if (mathElements[i].tagName == "SPAN") {
        window.katex.render(texText.data, mathElements[i], {
          displayMode: mathElements[i].classList.contains('display'),
          throwOnError: false,
          macros: macros,
          fleqn: false
        });
      }
    }
  }
}
window.Quarto = {
  typesetMath
};
</script>

</head>

<body class="nav-sidebar floating quarto-light">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" role="button" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="../sh05/05.html"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Blatt 05</span></a></li></ol></nav>
        <a class="flex-grow-1" role="navigation" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
      <button type="button" class="btn quarto-search-button" aria-label="Search" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation floating overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="../">Operating Systems and Networs SoSe 25 Solutions</a> 
        <div class="sidebar-tools-main">
    <a href="../Operating-Systems-and-Networs-SoSe-25-Solutions.pdf" title="Download PDF" class="quarto-navigation-tool px-1" aria-label="Download PDF"><i class="bi bi-file-pdf"></i></a>
</div>
    </div>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Preface</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../sh01/01.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Blatt 01</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../sh02/02.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Blatt 02</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../sh03/03.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Blatt 03</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../sh04/04.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Blatt 04</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../sh05/05.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Blatt 05</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../sh06/06.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">Blatt 06</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../sh07/07.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">7</span>&nbsp; <span class="chapter-title">Blatt 07</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../sh08/08.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">8</span>&nbsp; <span class="chapter-title">Blatt 8</span></span></a>
  </div>
</li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#aufgabe-1" id="toc-aufgabe-1" class="nav-link active" data-scroll-target="#aufgabe-1">Aufgabe 1</a></li>
  <li><a href="#aufgabe-2" id="toc-aufgabe-2" class="nav-link" data-scroll-target="#aufgabe-2">Aufgabe 2</a>
  <ul class="collapse">
  <li><a href="#adressübersetzung-bei-paging-mit-seitengröße-2k" id="toc-adressübersetzung-bei-paging-mit-seitengröße-2k" class="nav-link" data-scroll-target="#adressübersetzung-bei-paging-mit-seitengröße-2k">Adressübersetzung bei Paging mit Seitengröße <span class="math inline">\(2^k\)</span></a></li>
  <li><a href="#umkehrung-der-formel" id="toc-umkehrung-der-formel" class="nav-link" data-scroll-target="#umkehrung-der-formel">Umkehrung der Formel</a></li>
  <li><a href="#gegebene-zuordnungen" id="toc-gegebene-zuordnungen" class="nav-link" data-scroll-target="#gegebene-zuordnungen">Gegebene Zuordnungen</a></li>
  <li><a href="#endgültige-rekonstruierte-seitentabelle" id="toc-endgültige-rekonstruierte-seitentabelle" class="nav-link" data-scroll-target="#endgültige-rekonstruierte-seitentabelle">Endgültige rekonstruierte Seitentabelle</a></li>
  <li><a href="#python-implementierung" id="toc-python-implementierung" class="nav-link" data-scroll-target="#python-implementierung">Python Implementierung</a></li>
  </ul></li>
  <li><a href="#aufgabe-3" id="toc-aufgabe-3" class="nav-link" data-scroll-target="#aufgabe-3">Aufgabe 3</a></li>
  <li><a href="#aufgabe-4" id="toc-aufgabe-4" class="nav-link" data-scroll-target="#aufgabe-4">Aufgabe 4</a></li>
  <li><a href="#aufgabe-6" id="toc-aufgabe-6" class="nav-link" data-scroll-target="#aufgabe-6">Aufgabe 6</a></li>
  <li><a href="#aufgabe-7" id="toc-aufgabe-7" class="nav-link" data-scroll-target="#aufgabe-7">Aufgabe 7</a></li>
  <li><a href="#aufgabe-8" id="toc-aufgabe-8" class="nav-link" data-scroll-target="#aufgabe-8">Aufgabe 8</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Blatt 05</span></h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<section id="aufgabe-1" class="level2">
<h2 class="anchored" data-anchor-id="aufgabe-1">Aufgabe 1</h2>
<ol type="a">
<li><ul>
<li><strong>Matrikelnummer</strong>: Seitennummer (Virtuelle Addresse)</li>
<li><strong>Wohnaddresse</strong>: Rahmennummer (Physische Addresse)</li>
<li><strong>Verzeichniss</strong>: Seitentabelle (Index)</li>
</ul>
<p>keine Entsprechung zum Offset</p></li>
<li><p>Matrikelnummer hat 7 stellen: <span class="math inline">\(10^7\)</span>, d.h. 10 Mil Einträge.<br>
Es gibt 4.800 Wohnheimzimmer: relevanter Anteil = <span class="math inline">\(\frac{4.8 \cdot 10^3}{10 \cdot 10^6} \approx 0.5 \cdot 10^{-4} = 0.05 \%\)</span></p></li>
</ol>
</section>
<section id="aufgabe-2" class="level2">
<h2 class="anchored" data-anchor-id="aufgabe-2">Aufgabe 2</h2>
<section id="adressübersetzung-bei-paging-mit-seitengröße-2k" class="level3">
<h3 class="anchored" data-anchor-id="adressübersetzung-bei-paging-mit-seitengröße-2k">Adressübersetzung bei Paging mit Seitengröße <span class="math inline">\(2^k\)</span></h3>
<p>Bei einem Paging-System mit fester Seitengröße von <span class="math inline">\(2^k\)</span> Byte wird die virtuelle Adresse <span class="math inline">\(V\)</span> wie folgt in eine physische Adresse übersetzt:</p>
<p><span class="math display">\[
\text{Physische Adresse} = \left(F(V \gg k) \ll k\right) + \left(V \&amp; (2^k - 1)\right)
\]</span></p>
<ul>
<li><span class="math inline">\(V \gg k\)</span>: virtuelle Seitennummer (Integer-Division durch <span class="math inline">\(2^k\)</span>)</li>
<li><span class="math inline">\(V \&amp; (2^k - 1)\)</span>: Offset innerhalb der Seite</li>
<li><span class="math inline">\(F(n)\)</span>: Seitentabelle, die virtuelle Seitennummer <span class="math inline">\(n\)</span> auf Rahmennummer abbildet</li>
</ul>
</section>
<section id="umkehrung-der-formel" class="level3">
<h3 class="anchored" data-anchor-id="umkehrung-der-formel">Umkehrung der Formel</h3>
<p>Wenn die virtuelle Adresse <span class="math inline">\(V\)</span> und die zugehörige physische Adresse <span class="math inline">\(P\)</span> gegeben sind, lässt sich der Seitentabelleneintrag rekonstruieren:</p>
<p><span class="math display">\[
F(V \gg k) = \frac{P - (V \&amp; (2^k - 1))}{2^k}
\]</span></p>
<p>Bei Seitengröße von <strong>4 KB</strong> (<span class="math inline">\(2^{12} = 4096\)</span>) gilt:</p>
<p><span class="math display">\[
F(V \gg 12) = \frac{P - (V \&amp; 0xFFF)}{4096}
\]</span></p>
</section>
<section id="gegebene-zuordnungen" class="level3">
<h3 class="anchored" data-anchor-id="gegebene-zuordnungen">Gegebene Zuordnungen</h3>
<ul>
<li><span class="math inline">\(V = 8203 \rightarrow P = 12229\)</span></li>
<li><span class="math inline">\(V = 4600 \rightarrow P = 25080\)</span></li>
<li><span class="math inline">\(V = 16510 \rightarrow P = 41086\)</span></li>
</ul>
<ol type="1">
<li><p><span class="math inline">\(V = 8203 \rightarrow P = 12229\)</span></p>
<ul>
<li><p>Virtuelle Seite: <span class="math inline">\(8203 \gg 12 = \lfloor \frac{8203}{4096} \rfloor = 2\)</span></p></li>
<li><p>Offset: <span class="math inline">\(8203 \&amp; 0xFFF = 8203 \mod 4096 = 8203 - 8192 = 11\)</span></p></li>
<li><p>Frame-Berechnung:</p>
<p><span class="math display">\[
F(2) = \frac{12229 - 11}{4096} = \frac{12218}{4096} = 2
\]</span></p></li>
</ul></li>
<li><p><span class="math inline">\(V = 4600 \rightarrow P = 25080\)</span></p>
<ul>
<li><p>Virtuelle Seite: <span class="math inline">\(4600 \gg 12 = 1\)</span></p></li>
<li><p>Offset: <span class="math inline">\(4600 \&amp; 0xFFF = 504\)</span></p></li>
<li><p>Frame-Berechnung:</p>
<p><span class="math display">\[
F(1) = \frac{25080 - 504}{4096} = \frac{24576}{4096} = 6
\]</span></p></li>
</ul></li>
<li><p><span class="math inline">\(V = 16510 \rightarrow P = 41086\)</span></p>
<ul>
<li><p>Virtuelle Seite: <span class="math inline">\(16510 \gg 12 = \lfloor \frac{16510}{4096} \rfloor = 4\)</span></p></li>
<li><p>Offset: <span class="math inline">\(16510 \&amp; 0xFFF = 16510 - (4 \cdot 4096) = 126\)</span></p></li>
<li><p>Frame-Berechnung:</p>
<p><span class="math display">\[
F(4) = \frac{41086 - 126}{4096} = \frac{40960}{4096} = 10
\]</span></p></li>
</ul></li>
</ol>
</section>
<section id="endgültige-rekonstruierte-seitentabelle" class="level3">
<h3 class="anchored" data-anchor-id="endgültige-rekonstruierte-seitentabelle">Endgültige rekonstruierte Seitentabelle</h3>
<table class="caption-top table">
<thead>
<tr class="header">
<th>Virtuelle Seitennummer</th>
<th>Physischer Rahmen</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>2</td>
<td>2</td>
</tr>
<tr class="even">
<td>1</td>
<td>6</td>
</tr>
<tr class="odd">
<td>4</td>
<td>10</td>
</tr>
</tbody>
</table>
</section>
<section id="python-implementierung" class="level3">
<h3 class="anchored" data-anchor-id="python-implementierung">Python Implementierung</h3>
<p>Die Rekonstruktion der Tabelle kann mit python wie folgt implementiert werden:</p>
<div id="ff19d367" class="cell" data-execution_count="1">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> reconstruct_page_table(k, mappings):</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a>    page_size <span class="op">=</span> <span class="dv">1</span> <span class="op">&lt;&lt;</span> k  <span class="co"># 2^k</span></span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a>    page_mask <span class="op">=</span> page_size <span class="op">-</span> <span class="dv">1</span></span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a>    page_table <span class="op">=</span> []</span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> virtual_address, physical_address <span class="kw">in</span> mappings:</span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a>        virtual_page_number <span class="op">=</span> virtual_address <span class="op">&gt;&gt;</span> k</span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a>        offset <span class="op">=</span> virtual_address <span class="op">&amp;</span> page_mask</span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a>        frame_number <span class="op">=</span> (physical_address <span class="op">-</span> offset) <span class="op">&gt;&gt;</span> k</span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a>        page_table.append((virtual_page_number, frame_number))</span>
<span id="cb1-11"><a href="#cb1-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-12"><a href="#cb1-12" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> page_table</span>
<span id="cb1-13"><a href="#cb1-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-14"><a href="#cb1-14" aria-hidden="true" tabindex="-1"></a>k <span class="op">=</span> <span class="dv">12</span>  <span class="co"># page size = 2^12 = 4096</span></span>
<span id="cb1-15"><a href="#cb1-15" aria-hidden="true" tabindex="-1"></a>mappings <span class="op">=</span> [</span>
<span id="cb1-16"><a href="#cb1-16" aria-hidden="true" tabindex="-1"></a>    (<span class="dv">8203</span>, <span class="dv">12229</span>),</span>
<span id="cb1-17"><a href="#cb1-17" aria-hidden="true" tabindex="-1"></a>    (<span class="dv">4600</span>, <span class="dv">25080</span>),</span>
<span id="cb1-18"><a href="#cb1-18" aria-hidden="true" tabindex="-1"></a>    (<span class="dv">16510</span>, <span class="dv">41086</span>)</span>
<span id="cb1-19"><a href="#cb1-19" aria-hidden="true" tabindex="-1"></a>]</span>
<span id="cb1-20"><a href="#cb1-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-21"><a href="#cb1-21" aria-hidden="true" tabindex="-1"></a>page_table <span class="op">=</span> reconstruct_page_table(k, mappings)</span>
<span id="cb1-22"><a href="#cb1-22" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> vpn, frame <span class="kw">in</span> page_table:</span>
<span id="cb1-23"><a href="#cb1-23" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="ss">f"Virtuelle Seite </span><span class="sc">{</span>vpn<span class="sc">}</span><span class="ss"> → Rahmen </span><span class="sc">{</span>frame<span class="sc">}</span><span class="ss">"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Virtuelle Seite 2 → Rahmen 2
Virtuelle Seite 1 → Rahmen 6
Virtuelle Seite 4 → Rahmen 10</code></pre>
</div>
</div>
</section>
</section>
<section id="aufgabe-3" class="level2">
<h2 class="anchored" data-anchor-id="aufgabe-3">Aufgabe 3</h2>
<ol type="a">
<li><p><strong>Ausgangssituation</strong>:</p>
<p>Betrachten wir die folgende C-Schleife auf einem System, bei dem gilt:</p>
<ul>
<li><code>int</code> ist 4 Byte groß</li>
<li>Seitengröße = 4 KB = 4096 Byte</li>
<li>Der TLB (Translation Lookaside Buffer) hat 64 Einträge (d.h. er kann 64 Seiten zwischenspeichern)</li>
</ul>
<p>Jede Seite enthält 1024 Integer, da 4 Byte pro Element. (4096 / 4 = 1024) Jeder Zugriff auf <code>X[i]</code> greift auf eine Speicherseite zu:</p>
<p><span class="math display">\[
\text{Seitenummer}(i) = \left\lfloor \frac{i}{1024} \right\rfloor
\]</span></p>
<p>Mit den indizes <span class="math inline">\(i\)</span>:</p>
<p><span class="math display">\[
i = 0, M, 2M, 3M, \dots, \text{solange } i &lt; N
\]</span></p>
<p>Setzen wir <span class="math inline">\(T = \left\lfloor \frac{N - 1}{M} \right\rfloor\)</span>, so gibt es <span class="math inline">\(T + 1\)</span> Iterationen.</p>
<p>Jede Iteration greift also auf die Seite zu:</p>
<p><span class="math display">\[
\text{Seite}(j) = \left\lfloor \frac{j \cdot M}{1024} \right\rfloor \quad \text{für } j = 0, 1, ..., T
\]</span></p>
<p>Die Anzahl der <strong>verschiedenen Seiten</strong>, die beim Schleifendurchlauf berührt werden, ist:</p>
<p><span class="math display">\[
\text{TLB\_pages}(M, N) = \left| \left\{ \left\lfloor \frac{j \cdot M}{1024} \right\rfloor \;\middle|\; 0 \le j \le \left\lfloor \frac{N - 1}{M} \right\rfloor \right\} \right|
\]</span></p>
<p>Dies ist die Anzahl der eindeutig unterschiedlichen Seiten, auf die zugegriffen wird. TLB-Misses treten auf, wenn:</p>
<p><span class="math display">\[
\text{TLB\_pages}(M, N) &gt; 64
\]</span></p>
<p>Das heißt: Es werden mehr als 64 unterschiedliche virtuelle Seiten benötigt – mehr als der TLB speichern kann.</p>
<p><strong>Beispiele und wichtige Beobachtungen</strong></p>
<ol type="1">
<li><strong>Kleines <code>M</code> (z. B. <code>M = 1</code>)</strong>:</li>
</ol>
<ul>
<li>Aufeinanderfolgende Elemente werden zugegriffen.</li>
<li>Alle 1024 Zugriffe → 1 neue Seite.</li>
<li>Insgesamt: ca. <code>N / 1024</code> Seiten.</li>
<li>TLB-Misses bei <code>N &gt; 64 * 1024 = 65536</code>.</li>
</ul>
<ol start="2" type="1">
<li><strong>Großes <code>M</code> (z. B. <code>M ≥ 1024</code>)</strong>:</li>
</ol>
<ul>
<li>Jeder Zugriff springt zu einer neuen Seite.</li>
<li>Es werden ca. <code>N / M</code> unterschiedliche Seiten berührt.</li>
<li>Wenn <code>N / M &gt; 64</code>, treten TLB-Misses auf.</li>
</ul>
<ol start="3" type="1">
<li><strong><code>M</code> teilt 1024 (z. B. <code>M = 256</code>, <code>512</code>)</strong>:</li>
</ol>
<ul>
<li>Mehrere Schleifendurchläufe landen auf derselben Seite.</li>
<li>Beispiel: <code>M = 256</code> → 4 Zugriffe pro Seite, bevor zur nächsten gewechselt wird.</li>
<li>Weniger Seiten werden benötigt.</li>
<li><strong>Weniger TLB-Misses</strong>, auch bei großem <code>N</code>.</li>
</ul>
<p><strong>Schlechtester Fall für den TLB</strong></p>
<p>Tritt auf, wenn:</p>
<ul>
<li><code>M ≥ 1024</code> (jeder Zugriff auf eine neue Seite)</li>
<li>und <code>N / M &gt; 64</code> (mehr als 64 Seiten werden benötigt)</li>
</ul>
<p>Dann wird bei jedem Zugriff eine andere Seite nachgeladen → <strong>viele TLB-Misses</strong>.</p>
<p><strong>Fazit</strong>:</p>
<p>Die <strong>Anzahl der verschiedenen Seiten</strong>, auf die beim Schleifendurchlauf zugegriffen wird, lautet:</p>
<p><span class="math display">\[
\boxed{
\text{TLB\_pages}(M, N) = \left| \left\{ \left\lfloor \frac{j \cdot M}{1024} \right\rfloor \;\middle|\; 0 \le j \le \left\lfloor \frac{N - 1}{M} \right\rfloor \right\} \right|
}
\]</span></p>
<ul>
<li>TLB-Misses treten auf, wenn <code>TLB_pages(M, N) &gt; 64</code></li>
<li>Kleine <code>M</code> (vor allem wenn <code>M &lt; 1024</code> und <code>M</code> ein Teiler von 1024 ist) → mehrere Zugriffe pro Seite → <strong>besseres TLB-Verhalten</strong></li>
<li>Große <code>M</code> (≥ 1024) → jeder Zugriff auf neue Seite → <strong>mehr TLB-Misses</strong></li>
</ul>
<p>Dieses Verhalten kann mit der folgenden Python-funktion simuliert werden:</p></li>
</ol>
<div id="c45aa532" class="cell" data-execution_count="2">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> tlb_pages(M, N, ints_per_page<span class="op">=</span><span class="dv">1024</span>):</span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a>    <span class="co">"""</span></span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a><span class="co">    Simulates the number of distinct pages accessed in the loop:</span></span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a><span class="co">        for (int i = 0; i &lt; N; i += M) X[i]++;</span></span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a><span class="co">    Parameters:</span></span>
<span id="cb3-7"><a href="#cb3-7" aria-hidden="true" tabindex="-1"></a><span class="co">    - M: step size</span></span>
<span id="cb3-8"><a href="#cb3-8" aria-hidden="true" tabindex="-1"></a><span class="co">    - N: total number of elements in the array</span></span>
<span id="cb3-9"><a href="#cb3-9" aria-hidden="true" tabindex="-1"></a><span class="co">    - ints_per_page: number of integers that fit in a single page (default 4096 bytes / 4 bytes = 1024)</span></span>
<span id="cb3-10"><a href="#cb3-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-11"><a href="#cb3-11" aria-hidden="true" tabindex="-1"></a><span class="co">    Returns:</span></span>
<span id="cb3-12"><a href="#cb3-12" aria-hidden="true" tabindex="-1"></a><span class="co">    - The number of distinct pages accessed</span></span>
<span id="cb3-13"><a href="#cb3-13" aria-hidden="true" tabindex="-1"></a><span class="co">    """</span></span>
<span id="cb3-14"><a href="#cb3-14" aria-hidden="true" tabindex="-1"></a>    pages <span class="op">=</span> <span class="bu">set</span>()</span>
<span id="cb3-15"><a href="#cb3-15" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> i <span class="kw">in</span> <span class="bu">range</span>(<span class="dv">0</span>, N, M):</span>
<span id="cb3-16"><a href="#cb3-16" aria-hidden="true" tabindex="-1"></a>        page <span class="op">=</span> i <span class="op">//</span> ints_per_page</span>
<span id="cb3-17"><a href="#cb3-17" aria-hidden="true" tabindex="-1"></a>        pages.add(page)</span>
<span id="cb3-18"><a href="#cb3-18" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> <span class="bu">len</span>(pages)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<pre><code>Einige Simulationen:</code></pre>
<div id="a193617b" class="cell" data-execution_count="3">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(tlb_pages(<span class="dv">1</span>, <span class="dv">65536</span>))        <span class="co"># Should be 64 → fills exactly 64 pages</span></span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(tlb_pages(<span class="dv">1024</span>, <span class="dv">65536</span>))     <span class="co"># Should be 64 → each access on a new page</span></span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(tlb_pages(<span class="dv">256</span>, <span class="dv">65536</span>))      <span class="co"># Should be 64 / 4 = 16 → reuse of pages</span></span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(tlb_pages(<span class="dv">2048</span>, <span class="dv">65536</span>))     <span class="co"># Should be 32 → skips every second page</span></span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(tlb_pages(<span class="dv">1</span>, <span class="dv">100000</span>))       <span class="co"># result: 98 → causes TLB misses</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>64
64
64
32
98</code></pre>
</div>
</div>
<ol start="2" type="a">
<li><p>Das Verhalten des TLB ändert sich deutlich, wenn der Code mehrfach oder regelmäßig ausgeführt wird – etwa in einer oft aufgerufenen Funktion oder in einer heißen Schleife.</p>
<ol type="1">
<li><p>TLB ist zustandsbehaftet und begrenzt</p>
<ul>
<li>Er kann nur eine bestimmte Anzahl an Seitenadressen speichern (z. B. 64).</li>
<li>Wird die Anzahl der zugreifenden Seiten pro Schleife &gt; 64, kommt es zu Ersetzungen (evictions), meist nach dem LRU-Prinzip.</li>
</ul></li>
<li><p>Wiederholte Ausführung kann TLB verbessern – oder verschlechtern</p>
<ul>
<li>Wenn dieselben Seiten wiederverwendet werden (z. B. bei <code>N ≤ 64 * 1024</code>), bleiben TLB-Einträge erhalten → nach der ersten Ausführung keine weiteren Misses.</li>
<li>Wenn mehr als 64 Seiten verwendet oder ständig neue Seiten benötigt werden, werden TLB-Einträge ständig ersetzt → TLB-Misses bei jedem Aufruf.</li>
</ul></li>
<li><p>TLB-Arbeitsmenge (working set)</p>
<ul>
<li>Die „TLB-Arbeitsmenge“ ist die Menge der Seiten, die eine Funktion während der Ausführung benötigt.</li>
<li>Passt diese Menge vollständig in den TLB, funktioniert alles effizient.</li>
<li>Ist sie größer, kommt es zu wiederholten Zugriffen auf die Page Table → langsam.</li>
</ul></li>
<li><p>Zugriffsart ist entscheidend</p>
<ul>
<li>Kleine Schrittweite <code>M</code> → viele Zugriffe auf dieselbe Seite → hohe Wiederverwendung → TLB effizient.</li>
<li>Große Schrittweite <code>M ≥ 1024</code> → jeder Zugriff auf eine neue Seite → hoher TLB-Druck, vor allem bei vielen Funktionsaufrufen.</li>
</ul></li>
</ol></li>
</ol>
</section>
<section id="aufgabe-4" class="level2">
<h2 class="anchored" data-anchor-id="aufgabe-4">Aufgabe 4</h2>
<p>Beim Wechsel zwischen Prozessen wird der TLB in der Regel geleert, da jeder Prozess einen eigenen virtuellen Adressraum mit einer eigenen Seitentabelle besitzt. Die im TLB gespeicherten Einträge des vorherigen Prozesses wären im neuen Kontext ungültig oder sogar sicherheitskritisch.</p>
<p>Beim Wechsel zwischen Threads desselben Prozesses bleibt der TLB hingegen erhalten, da alle Threads denselben Adressraum und dieselbe Seitentabelle nutzen. Die vorhandenen TLB-Einträge bleiben daher gültig.</p>
<p>Moderne Systeme mit <em>Address Space Identifiers</em> (ASIDs) können einen vollständigen TLB-Flush beim Prozesswechsel vermeiden, indem sie TLB-Einträge pro Prozess kennzeichnen und nur die jeweils relevanten aktiv halten.</p>
<p><strong>Kein Flush - Was kann Schiefgehen?</strong></p>
<p>Wenn der TLB beim Kontextwechsel nicht geleert wird, kann es zu schwerwiegenden Sicherheitsproblemen kommen. Das folgende Beispiel zeigt, was konkret passieren kann:</p>
<p>Angenommen, <strong>Prozess A</strong> greift auf die virtuelle Adresse <code>0x00400000</code> zu, welche in seiner Seitentabelle korrekt auf die physische Adresse <code>0x1A300000</code> abgebildet wird. Diese Übersetzung wird im TLB zwischengespeichert.</p>
<p>Nun findet ein Kontextwechsel zu <strong>Prozess B</strong> statt. Auch Prozess B verwendet die virtuelle Adresse <code>0x00400000</code>, aber in seiner eigenen Seitentabelle sollte sie auf eine völlig andere physische Adresse zeigen, z. B. <code>0x2B400000</code>.</p>
<p>Wenn der TLB <strong>nicht geleert</strong> wird, verwendet der Prozessor beim Zugriff durch Prozess B weiterhin die alte TLB-Eintragung von Prozess A. Das führt dazu, dass Prozess B auf den physischen Speicher von Prozess A zugreift.</p>
<p>Die Folgen:</p>
<ul>
<li><strong>Sicherheitslücke</strong>: Prozess B kann sensible Daten von Prozess A einsehen.</li>
<li><strong>Datenkorruption</strong>: Schreibzugriffe von Prozess B verändern versehentlich die Daten von Prozess A.</li>
<li><strong>Verletzung der Speicherisolation</strong>: Ein zentrales Prinzip des Betriebssystems wird untergraben.</li>
</ul>
<p>Um das zu verhindern, wird der TLB beim Wechsel des Prozesses entweder vollständig geleert oder — bei moderner Hardware — es werden <strong>ASIDs</strong> (Address Space Identifiers) verwendet, die TLB-Einträge pro Prozess kennzeichnen und voneinander trennen.</p>
</section>
<section id="aufgabe-6" class="level2">
<h2 class="anchored" data-anchor-id="aufgabe-6">Aufgabe 6</h2>
<ol type="1">
<li>Es gibt <span class="math inline">\(\frac{2^{32}}{2^{12}} = 2^{20}\)</span> Einträge in der Tabelle. Jeder Eintrag ist 4 Byte groß</li>
</ol>
<p><span class="math display">\[
\Rightarrow \text{ca. } 4\,\text{MB} \text{ Größe der Seitentabelle pro Prozess}.
\]</span></p>
<ol start="2" type="1">
<li>Bei einer invertierten Seitentabelle gibt es genau einen Eintrag <strong>pro Frame</strong>. Deshalb entspricht das Verhältnis der Tabellengröße zum physischen Speicher exakt dem Verhältnis der Größe eines Eintrags zur Frame- bzw. Seitengröße:</li>
</ol>
<p><span class="math display">\[
\Rightarrow \frac{4\,\text{B}}{4\,\text{KB}} = \frac{1}{1024}
\]</span></p>
</section>
<section id="aufgabe-7" class="level2">
<h2 class="anchored" data-anchor-id="aufgabe-7">Aufgabe 7</h2>
<p>Geg. sei ein System mit einem TLB und einer hierarchischen Seitentabelle mit <span class="math inline">\(k\)</span> Stufen. Die TLB-Trefferquote sei <span class="math inline">\(h\)</span>, die Zugriffszeit auf den TLB sei <span class="math inline">\(t_{\text{TLB}}\)</span>, und ein RAM-Zugriff dauere <span class="math inline">\(t_{\text{RAM}}\)</span>. Um eine Seite im Speicher zu lesen, muss zunächst die Adresse übersetzt und anschließend auf die eigentlichen Daten zugegriffen werden. Es gibt zwei Fälle:</p>
<ul>
<li>Bei einem TLB-Treffer (Wahrscheinlichkeit <span class="math inline">\(h\)</span>) erfolgt die Übersetzung über den TLB, was <span class="math inline">\(t_{\text{TLB}}\)</span> dauert, gefolgt von einem Datenzugriff mit <span class="math inline">\(t_{\text{RAM}}\)</span>. Gesamtzeit: <span class="math inline">\(t_{\text{TLB}} + t_{\text{RAM}}\)</span></li>
<li>Bei einem TLB-Fehlzugriff (Wahrscheinlichkeit <span class="math inline">\(1 - h\)</span>) muss die Seitentabelle durchlaufen werden, wobei <span class="math inline">\(k\)</span> RAM-Zugriffe nötig sind. Anschließend folgt der Zugriff auf die Daten mit weiteren <span class="math inline">\(t_{\text{RAM}}\)</span>. Gesamtzeit: <span class="math inline">\((k + 1) \cdot t_{\text{RAM}}\)</span></li>
</ul>
<p>Die erwartete Zugriffszeit ergibt sich zu:</p>
<p><span class="math display">\[
E = h(t_{\text{TLB}} + t_{\text{RAM}}) + (1 - h)(k + 1)t_{\text{RAM}}
\]</span></p>
<p>Wenn <span class="math inline">\(h\)</span> klein ist, dominiert der zweite Term, und der Zugriff ist im Mittel etwa <span class="math inline">\((k + 1)\)</span>-mal so teuer wie bei einem TLB-Treffer.</p>
<p>In der Praxis tritt dieses Problem jedoch kaum auf, da reale Programme ausgeprägte Lokalität aufweisen. Aufgrund <strong>temporaler Lokalität</strong> (wiederholte Zugriffe auf kürzlich genutzte Seiten) und <strong>spatialer Lokalität</strong> (benachbarte Adressen werden gemeinsam genutzt, z. B. in Arrays) ist die TLB-Trefferquote typischerweise sehr hoch (oft über 95 %). Deshalb amortisiert sich die Existenz eines TLB deutlich.</p>
<p>Das zugrunde liegende Modell ist jedoch in mehreren Punkten idealisiert und in der Praxis eingeschränkt:</p>
<ul>
<li>Es nimmt <strong>gleichverteilte Zugriffe</strong> auf alle Seitentabelleneinträge an, ignoriert also die reale Zugriffslokalität.</li>
<li><strong>Seitentabelleneinträge werden ggf. auch intern gecacht</strong>, was die Zahl tatsächlicher RAM-Zugriffe reduziert.</li>
<li>Es berücksichtigt keine Nebeneffekte wie <strong>TLB-Flushes bei Kontextwechseln</strong>, <strong>Prefetching</strong>, oder andere Optimierungen der Speicherhierarchie.</li>
</ul>
<p>Daher ist das Modell gut geeignet für eine theoretische Analyse, aber es bildet die tatsächliche Effizienz realer Systeme nur vereinfacht ab.</p>
</section>
<section id="aufgabe-8" class="level2">
<h2 class="anchored" data-anchor-id="aufgabe-8">Aufgabe 8</h2>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="./imgs/3level-pt.png" class="img-fluid figure-img" style="width:90.0%"></p>
<figcaption>3-level Seitentabelle</figcaption>
</figure>
</div>
<ol type="a">
<li><p>Das Diagramm zeigt die Übersetzung einer 32-Bit-Adressierung in einem hypothetischen System mit einer dreistufigen Seitentabellenhierarchie und einer Seitengröße von 256 Byte (also <span class="math inline">\(2^8\)</span>). Die logische Adresse wird dabei in vier gleich große Abschnitte zu je 8 Bit aufgeteilt:</p>
<ul>
<li>Bits 31–24: Index in die oberste Tabelle (PD1)</li>
<li>Bits 23–16: Index in die zweite Tabelle (PD2)</li>
<li>Bits 15–8: Index in die dritte Tabelle (PT)</li>
<li>Bits 7–0: Offset innerhalb der Seite</li>
</ul>
<p>Jede Tabelle hat <span class="math inline">\(2^8 = 256\)</span> Einträge. Dies ergibt sich daraus, dass jeder Tabellenindex 8 Bit umfasst und damit 256 mögliche Positionen adressieren kann. Da alle drei Tabellenebenen mit 8-Bit-Indizes angesprochen werden, besitzen alle drei Stufen genau 256 Einträge. Die Offset-Breite von 8 Bit entspricht der Seitengröße von 256 Byte.</p></li>
<li><p>Die 32-Bit-Adresse wird in vier Abschnitte zu je 8 Bit unterteilt. Jeder dieser Abschnitte dient als Index in eine bestimmte Stufe der Seitentabellenhierarchie:</p>
<ul>
<li>Der erste Abschnitt (Bits 31–24) indexiert einen Eintrag in der obersten Tabelle (PD1).</li>
<li>Der zweite Abschnitt (Bits 23–16) indexiert die mittlere Tabelle (PD2).</li>
<li>Der dritte Abschnitt (Bits 15–8) indexiert die unterste Tabelle (PT).</li>
<li>Der vierte Abschnitt (Bits 7–0) ist der Offset innerhalb der Zielseite.</li>
</ul>
<p>Jeder Eintrag in den Tabellen enthält eine physische Adresse, die zur nächsten Stufe führt:</p>
<ul>
<li>Ein <strong>PD1-Eintrag</strong> enthält die physische Startadresse eines PD2-Tabellenrahmens.</li>
<li>Ein <strong>PD2-Eintrag</strong> enthält die Adresse eines PT-Tabellenrahmens.</li>
<li>Ein <strong>PT-Eintrag</strong> enthält die Adresse eines tatsächlichen physischen Seitenrahmens, also einer 256-Byte-Seite im Speicher.</li>
</ul>
<p>Durch schrittweises Nachschlagen entlang der drei Tabellenstufen wird so der physische Rahmen gefunden, in dem sich die gewünschte Adresse befindet. Der Offset gibt schließlich die genaue Position innerhalb dieser Seite an.</p>
<p><strong>Gibt es signifikante Unterschiede zwischen den Stufen?</strong></p>
<p>Ja, in der Funktion der Stufen:</p>
<ul>
<li>Die ersten beiden Stufen (PD1 und PD2) dienen rein der Navigation: Sie verweisen jeweils auf weitere Tabellen.</li>
<li>Erst die dritte Stufe (PT) enthält den tatsächlichen Verweis auf den physischen Speicherrahmen mit den Daten.</li>
<li>Auch bei der Interpretation der Einträge kann es Unterschiede geben (z. B. zusätzliche Statusbits oder Flags auf unteren Ebenen), aber im Grundprinzip enthalten alle Einträge physische Adressen von Seitenrahmen — entweder von Tabellen oder von Daten.</li>
</ul></li>
<li><p>Jede Tabelle hat maximal <span class="math inline">\(2^8 = 256\)</span> Einträge pro Instanz. Da es sich um eine 3-stufige Hierarchie handelt, ergibt sich im <strong>Extremfall</strong> (voll belegter Adressraum):</p>
<ul>
<li><strong>Stufe 1 (PD1):</strong> 1 Tabelle × 256 Einträge</li>
<li><strong>Stufe 2 (PD2):</strong> 256 Tabellen × 256 Einträge = 65 536</li>
<li><strong>Stufe 3 (PT):</strong> 256 × 256 Tabellen × 256 Einträge = 16 777 216</li>
</ul>
<p><strong>Kumulative Maximalanzahl:</strong></p>
<p><span class="math display">\[
256 + 65\,536 + 16\,777\,216 = 16\,843\,008 \text{ Einträge}
\]</span></p>
<p><strong>Speicherverbrauch bei 4 Byte pro Eintrag:</strong></p>
<p><span class="math display">\[
16\,843\,008 \times 4\ \text{Bytes} = 67\,372\,032\ \text{Bytes} \approx 64{,}25\ \text{MiB}
\]</span></p></li>
</ol>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
  window.document.addEventListener("DOMContentLoaded", function (event) {
    const icon = "";
    const anchorJS = new window.AnchorJS();
    anchorJS.options = {
      placement: 'right',
      icon: icon
    };
    anchorJS.add('.anchored');
    const isCodeAnnotation = (el) => {
      for (const clz of el.classList) {
        if (clz.startsWith('code-annotation-')) {                     
          return true;
        }
      }
      return false;
    }
    const onCopySuccess = function(e) {
      // button target
      const button = e.trigger;
      // don't keep focus
      button.blur();
      // flash "checked"
      button.classList.add('code-copy-button-checked');
      var currentTitle = button.getAttribute("title");
      button.setAttribute("title", "Copied!");
      let tooltip;
      if (window.bootstrap) {
        button.setAttribute("data-bs-toggle", "tooltip");
        button.setAttribute("data-bs-placement", "left");
        button.setAttribute("data-bs-title", "Copied!");
        tooltip = new bootstrap.Tooltip(button, 
          { trigger: "manual", 
            customClass: "code-copy-button-tooltip",
            offset: [0, -8]});
        tooltip.show();    
      }
      setTimeout(function() {
        if (tooltip) {
          tooltip.hide();
          button.removeAttribute("data-bs-title");
          button.removeAttribute("data-bs-toggle");
          button.removeAttribute("data-bs-placement");
        }
        button.setAttribute("title", currentTitle);
        button.classList.remove('code-copy-button-checked');
      }, 1000);
      // clear code selection
      e.clearSelection();
    }
    const getTextToCopy = function(trigger) {
        const codeEl = trigger.previousElementSibling.cloneNode(true);
        for (const childEl of codeEl.children) {
          if (isCodeAnnotation(childEl)) {
            childEl.remove();
          }
        }
        return codeEl.innerText;
    }
    const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
      text: getTextToCopy
    });
    clipboard.on('success', onCopySuccess);
    if (window.document.getElementById('quarto-embedded-source-code-modal')) {
      const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
        text: getTextToCopy,
        container: window.document.getElementById('quarto-embedded-source-code-modal')
      });
      clipboardModal.on('success', onCopySuccess);
    }
      var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var mailtoRegex = new RegExp(/^mailto:/);
        var filterRegex = new RegExp('/' + window.location.host + '/');
      var isInternal = (href) => {
          return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
      }
      // Inspect non-navigation links and adorn them if external
     var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
      for (var i=0; i<links.length; i++) {
        const link = links[i];
        if (!isInternal(link.href)) {
          // undo the damage that might have been done by quarto-nav.js in the case of
          // links that we want to consider external
          if (link.dataset.originalHref !== undefined) {
            link.href = link.dataset.originalHref;
          }
        }
      }
    function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
      const config = {
        allowHTML: true,
        maxWidth: 500,
        delay: 100,
        arrow: false,
        appendTo: function(el) {
            return el.parentElement;
        },
        interactive: true,
        interactiveBorder: 10,
        theme: 'quarto',
        placement: 'bottom-start',
      };
      if (contentFn) {
        config.content = contentFn;
      }
      if (onTriggerFn) {
        config.onTrigger = onTriggerFn;
      }
      if (onUntriggerFn) {
        config.onUntrigger = onUntriggerFn;
      }
      window.tippy(el, config); 
    }
    const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
    for (var i=0; i<noterefs.length; i++) {
      const ref = noterefs[i];
      tippyHover(ref, function() {
        // use id or data attribute instead here
        let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
        try { href = new URL(href).hash; } catch {}
        const id = href.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note) {
          return note.innerHTML;
        } else {
          return "";
        }
      });
    }
    const xrefs = window.document.querySelectorAll('a.quarto-xref');
    const processXRef = (id, note) => {
      // Strip column container classes
      const stripColumnClz = (el) => {
        el.classList.remove("page-full", "page-columns");
        if (el.children) {
          for (const child of el.children) {
            stripColumnClz(child);
          }
        }
      }
      stripColumnClz(note)
      if (id === null || id.startsWith('sec-')) {
        // Special case sections, only their first couple elements
        const container = document.createElement("div");
        if (note.children && note.children.length > 2) {
          container.appendChild(note.children[0].cloneNode(true));
          for (let i = 1; i < note.children.length; i++) {
            const child = note.children[i];
            if (child.tagName === "P" && child.innerText === "") {
              continue;
            } else {
              container.appendChild(child.cloneNode(true));
              break;
            }
          }
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(container);
          }
          return container.innerHTML
        } else {
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(note);
          }
          return note.innerHTML;
        }
      } else {
        // Remove any anchor links if they are present
        const anchorLink = note.querySelector('a.anchorjs-link');
        if (anchorLink) {
          anchorLink.remove();
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        if (note.classList.contains("callout")) {
          return note.outerHTML;
        } else {
          return note.innerHTML;
        }
      }
    }
    for (var i=0; i<xrefs.length; i++) {
      const xref = xrefs[i];
      tippyHover(xref, undefined, function(instance) {
        instance.disable();
        let url = xref.getAttribute('href');
        let hash = undefined; 
        if (url.startsWith('#')) {
          hash = url;
        } else {
          try { hash = new URL(url).hash; } catch {}
        }
        if (hash) {
          const id = hash.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note !== null) {
            try {
              const html = processXRef(id, note.cloneNode(true));
              instance.setContent(html);
            } finally {
              instance.enable();
              instance.show();
            }
          } else {
            // See if we can fetch this
            fetch(url.split('#')[0])
            .then(res => res.text())
            .then(html => {
              const parser = new DOMParser();
              const htmlDoc = parser.parseFromString(html, "text/html");
              const note = htmlDoc.getElementById(id);
              if (note !== null) {
                const html = processXRef(id, note);
                instance.setContent(html);
              } 
            }).finally(() => {
              instance.enable();
              instance.show();
            });
          }
        } else {
          // See if we can fetch a full url (with no hash to target)
          // This is a special case and we should probably do some content thinning / targeting
          fetch(url)
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.querySelector('main.content');
            if (note !== null) {
              // This should only happen for chapter cross references
              // (since there is no id in the URL)
              // remove the first header
              if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
                note.children[0].remove();
              }
              const html = processXRef(null, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      }, function(instance) {
      });
    }
        let selectedAnnoteEl;
        const selectorForAnnotation = ( cell, annotation) => {
          let cellAttr = 'data-code-cell="' + cell + '"';
          let lineAttr = 'data-code-annotation="' +  annotation + '"';
          const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
          return selector;
        }
        const selectCodeLines = (annoteEl) => {
          const doc = window.document;
          const targetCell = annoteEl.getAttribute("data-target-cell");
          const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
          const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
          const lines = annoteSpan.getAttribute("data-code-lines").split(",");
          const lineIds = lines.map((line) => {
            return targetCell + "-" + line;
          })
          let top = null;
          let height = null;
          let parent = null;
          if (lineIds.length > 0) {
              //compute the position of the single el (top and bottom and make a div)
              const el = window.document.getElementById(lineIds[0]);
              top = el.offsetTop;
              height = el.offsetHeight;
              parent = el.parentElement.parentElement;
            if (lineIds.length > 1) {
              const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
              const bottom = lastEl.offsetTop + lastEl.offsetHeight;
              height = bottom - top;
            }
            if (top !== null && height !== null && parent !== null) {
              // cook up a div (if necessary) and position it 
              let div = window.document.getElementById("code-annotation-line-highlight");
              if (div === null) {
                div = window.document.createElement("div");
                div.setAttribute("id", "code-annotation-line-highlight");
                div.style.position = 'absolute';
                parent.appendChild(div);
              }
              div.style.top = top - 2 + "px";
              div.style.height = height + 4 + "px";
              div.style.left = 0;
              let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
              if (gutterDiv === null) {
                gutterDiv = window.document.createElement("div");
                gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
                gutterDiv.style.position = 'absolute';
                const codeCell = window.document.getElementById(targetCell);
                const gutter = codeCell.querySelector('.code-annotation-gutter');
                gutter.appendChild(gutterDiv);
              }
              gutterDiv.style.top = top - 2 + "px";
              gutterDiv.style.height = height + 4 + "px";
            }
            selectedAnnoteEl = annoteEl;
          }
        };
        const unselectCodeLines = () => {
          const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
          elementsIds.forEach((elId) => {
            const div = window.document.getElementById(elId);
            if (div) {
              div.remove();
            }
          });
          selectedAnnoteEl = undefined;
        };
          // Handle positioning of the toggle
      window.addEventListener(
        "resize",
        throttle(() => {
          elRect = undefined;
          if (selectedAnnoteEl) {
            selectCodeLines(selectedAnnoteEl);
          }
        }, 10)
      );
      function throttle(fn, ms) {
      let throttle = false;
      let timer;
        return (...args) => {
          if(!throttle) { // first call gets through
              fn.apply(this, args);
              throttle = true;
          } else { // all the others get throttled
              if(timer) clearTimeout(timer); // cancel #2
              timer = setTimeout(() => {
                fn.apply(this, args);
                timer = throttle = false;
              }, ms);
          }
        };
      }
        // Attach click handler to the DT
        const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
        for (const annoteDlNode of annoteDls) {
          annoteDlNode.addEventListener('click', (event) => {
            const clickedEl = event.target;
            if (clickedEl !== selectedAnnoteEl) {
              unselectCodeLines();
              const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
              if (activeEl) {
                activeEl.classList.remove('code-annotation-active');
              }
              selectCodeLines(clickedEl);
              clickedEl.classList.add('code-annotation-active');
            } else {
              // Unselect the line
              unselectCodeLines();
              clickedEl.classList.remove('code-annotation-active');
            }
          });
        }
    const findCites = (el) => {
      const parentEl = el.parentElement;
      if (parentEl) {
        const cites = parentEl.dataset.cites;
        if (cites) {
          return {
            el,
            cites: cites.split(' ')
          };
        } else {
          return findCites(el.parentElement)
        }
      } else {
        return undefined;
      }
    };
    var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
    for (var i=0; i<bibliorefs.length; i++) {
      const ref = bibliorefs[i];
      const citeInfo = findCites(ref);
      if (citeInfo) {
        tippyHover(citeInfo.el, function() {
          var popup = window.document.createElement('div');
          citeInfo.cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    }
  });
  </script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="../sh04/04.html" class="pagination-link" aria-label="Blatt 04">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Blatt 04</span></span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="../sh06/06.html" class="pagination-link" aria-label="Blatt 06">
        <span class="nav-page-text"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">Blatt 06</span></span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->




</body></html>